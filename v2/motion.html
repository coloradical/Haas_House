<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Description of the page">
    <meta name="keywords" content="comma separated">
    <meta name="author" content="Design Elixir Studio | Megan Byers">
    <title>Casey Haas | Motion</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="styles.css">
    <script src="scripts/index.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/vimeo-video-element/+esm"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/player.style/instaplay/+esm"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

</head>

<script>
  var videos = [
    "", "https://vimeo.com/1019027611", "https://vimeo.com/1017688771", "https://vimeo.com/1017334540"
  ]
</script>


<body class="fade-in">
    <main class="flex-center-center">
        <div class=" flex-center-center flex-column">

            <header-component data-nav="Motion" id="navigation" class="standard-nav"></header-component>
            <div class="flex-start-start flex-wrap">
              <div class="carousel-item" data-order="1" style="background-image: url('assets/motion/motion-1.png')" onclick="toggleLightbox(1)">
                  <img src="assets/play.svg" class="play-icon" style="width: 75px" alt="play icon"/>
              </div>
              <div class="carousel-item" data-order="2" style="background-image: url('assets/motion/motion-2.png')" onclick="toggleLightbox(2)">
                <img src="assets/play.svg" class="play-icon" style="width: 75px" alt="play icon"/>
              </div>
              <div class="carousel-item" data-order="3" style="background-image: url('assets/motion/motion-3.png')" onclick="toggleLightbox(3)">
                <img src="assets/play.svg" class="play-icon" style="width: 75px" alt="play icon"/>
              </div>
            </div>
        </div>

        <div id="lightbox" class="flex-center-center flex-column">
          <div id="lightbox-viewer" class="flex-start-center flex-column">
              <div class="flex-start-end" style=" width: 100%;">
                  
                  <media-theme-instaplay class="media-controller">
                    <vimeo-video
                      id="video-player"
                      slot="media"
                      src=""
                      playsinline
                      crossorigin
                    ></vimeo-video>
                  </media-theme-instaplay>
                  <button class="close-lightbox hover" onclick="closeLightbox()">Ã—</button>
              </div>
              
              
          </div>
        </div>
        
          
      
    </main>


</body>
<script>
   document.addEventListener('DOMContentLoaded', () => {
    // Select all images inside the .photo-container
    const images = Array.from(document.querySelectorAll(".carousel-item"));

    // Sort images by data-order attribute
    images.sort((a, b) => a.getAttribute('data-order') - b.getAttribute('data-order'));

    // Animate images in the sorted order
    gsap.from(images, {
        opacity: 0,
        y: 0,               // Move images slightly up initially for a smoother effect
        duration: 1,         // Duration for each fade-in effect
        ease: "power2.out",  // Easing for a smooth transition
        stagger: 0.2         // Delay between each image fade-in
    });
});

function toggleLightbox(number){
  const $lightbox = $('#lightbox');
  const $videoPlayer = $('#video-player');
  
  gsap.fromTo($lightbox, 
        { scale: 0.8, opacity: 0, display: "flex" }, // Start with a smaller scale and hidden opacity
        { scale: 1, opacity: 1, duration: 0.5, ease: "power2.out", display: "flex" } // Fade in and expand
    );
  
  $videoPlayer.attr("src", videos[number])
}
  
function closeLightbox() {
    const $lightbox = $('#lightbox');
    gsap.to($lightbox, {
        scale: 0.8,
        opacity: 0,
        duration: 0.5,
        ease: "power2.in",
        onComplete: function() {
            $lightbox.css("display", "none"); 
        }
    });
    
}
  </script>
</html>